# 캐시 (Cache)

> 데이터를 더 빠르게 접근하기 위해 임시로 별도의 공간에 저장하여 접근(플레이) 하는 데이터 처리 방식



캐시에 저장된 데이터에 대한 요청이 있을 경우 데이터의 기본 스토리지 위치에 엑세스할 때 보다 더 빠르게 요청을 처리할 수 있다.

캐싱을 사용하면 이전에 검색하거나 계산한 데이터를 효율적으로 재사용 할 수 있다.



캐시의 데이터는 일반적으로 RAM(Random Access Memory)과 같이 빠르게 액세스 할 수 있는 하드웨어에 저장되며, 소프트웨어 구성 요소와 함께 사용될 수 있다.

캐시의 주요 목적은 더 느린 기본 스토리지 계층에 액세스해야 할 필요를 줄임으로써 데이터 검색 성능을 높이는 것이다.



속도를 위해 용량을 절충하는 캐시는 일반적으로 데이터의 하위 집합을 일시적으로 저장한다.

보통 완전하고 영구적인 데이터가 있는 데이터베이스와는 대조적이다.



출처 : https://docs.microsoft.com/ko-kr/azure/cdn/cdn-how-caching-works

---



캐싱은 데이터에 대한 향후 요청에 신속하게 액세스할 수 있도록 데이터를 로컬에 저장하는 프로세스이다. 

가장 일반적인 캐싱 유형인 웹 브라우저 캐싱의 경우 웹브라우저는 로컬 하드 드라이브에 정적 데이터의 복사본을 로컬로 저장한다.

캐싱을 사용함으로써, 웹 브라우저는 서버에 여러 번 왕복하는 대신 로컬에서 동일한 데이터를 액세스할 수 있기 때문에 시간과 리소스를 절약할 수 있다.

캐싱은 정적 이미지, CSS 파일 및 JavaScript 파일과 같은 작고 정적인 데이터를 로컬에서 관리하는 데 적합하다.



마찬가지로, 캐싱은 원본 서버로 다시 돌아가는 요청을 피하여 최종 사용자 대기 시간을 줄이기 위해서 사용자와 가까운 에지 서버의 콘텐츠 배달 네트워크에서 사용된다.

단일 사용자에 대해서만 사용되는 웹 브라우저 캐시와 달리 CDN에는 공유캐시가 있다.

CDN 공유 캐시에서는 한 사용자가 요청한 파일을 나중에 다른 사용자가 액세스할 수 있기 때문에 원본 서버에 대한 요청 수가 크게 줄어든다.



자주 변경되거나 개별 사용자의 고유한 동적 리소스는 캐시 할 수 없다. 



캐싱은 원본 서버와 최종 사용자 사이에 여러 수준에서 발생 할 수 있다.

- 웹 서버: 공유 캐시(여러 사용자용)를 사용한다.
- 콘텐츠 배달 네트워크 (CDN) : 공유 캐시(여러 사용자용)를 사용한다.
- ISP(인터넷 서비스 공급자) : 공유 캐시 (여러 사용자용)를 사용한다.
- 웹 브라우저 : 프라이빗 캐시 (단일 사용자용)를 사용한다.

각 캐시는 일반적으로 자체 리소스의 최신 여부를 관리하고 파일이 오래되면 유효성 검사를 수행한다.



출처 : https://aws.amazon.com/ko/caching/

----

CDN 캐싱



캐싱은 이미지, 글꼴 및 비디오와 같은 정적 자산에 대한 우너본 로드를 줄이고 배달 속도를 높이기 위해 CDN이 작동하는 방식에 필수적이다.

CDN 캐싱에서 정적 리소스는 사용자의 로컬에 가깝게 전략적으로 배치된 서버에 선별적으로 저장되며 다음과 같은 이점을 제공한다.

- 대부분의 웹 트래픽은 정적이기 때문에  (ex : 이미지, 글꼴 및 비디오) CDN 캐싱은 콘텐츠를 사용자 가까이로 이동하여 데이터가 이동하는 거리를 줄여서 네트워크 대기 시간을 감소시킨다.
- 캐싱은 작업을 CDN으로 오프로드하여 네트워크 트래픽과 우너본 서버의 로드를 줄일 수 있다. 이렇게 하면 사용자수가 많은 경웨도 애플리케이션의 리소스 요구 사항과 비용을 줄일 수 있다.

웹 브라우저에서 캐싱이 구현되는 방식과 유사하게, 캐시 지시문 헤더를 보내서 CDN에서 캐시가 구현되는 방식을 제어할 수 있다.

캐시 지시문 헤더는 HTTP 헤더이며 일반적으로 원본 서버에서 추가된다.

이러한 헤더의 대부분은 원래 클라이언트 브라우저의 캐싱을 처리하도록 설계되었지만 현재는 CDN과 같은 모든 중간 캐시에서도 사용된다.



`Cache-Control` 및 `Expires` 라는 2가지 헤더를 사용하여 캐시의 최신 여부를 정의할 수 있다.

`Cache-Control`이 더 최신이고, 둘 다 있는 경우 `Expires`보다 우선된다.

유효성 검사에 사용되는 2가지 유형의 헤더(유효성 검사기라고 함)는 `ETag` 및 `Last-Modified` 이다.

`ETag`가 더 최신이고, 둘다 정의된 경우 `Last-Modified` 보다 우선된다. 



